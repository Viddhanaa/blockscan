tunnel: blockscan
credentials-file: /etc/cloudflared/blockscan.json
# Use http2 protocol - required for better WebSocket compatibility
protocol: http2

# Global origin request settings
originRequest:
  noTLSVerify: true
  connectTimeout: 30s
  tcpKeepAlive: 30s
  keepAliveConnections: 100
  keepAliveTimeout: 120s

ingress:
  - hostname: viddhana.com
    service: http://127.0.0.1:3200
  - hostname: www.viddhana.com
    service: http://127.0.0.1:3200
  - hostname: docs.viddhana.com
    service: http://127.0.0.1:3030
  - hostname: miner.viddhana.com
    service: http://127.0.0.1:8000
  - hostname: miner-api.viddhana.com
    service: http://127.0.0.1:3005
  - hostname: pool.viddhana.com
    service: http://172.21.0.3:80
    originRequest:
      noTLSVerify: true
      connectTimeout: 10s
  - hostname: pool-api.viddhana.com
    service: http://127.0.0.1:5001
    originRequest:
      noTLSVerify: true
      connectTimeout: 30s
  - hostname: rpc.viddhana.com
    service: http://127.0.0.1:8545
  - hostname: api.viddhana.com
    service: http://127.0.0.1:4002
  # WebSocket subdomain - route to websocket-relay for direct WebSocket support
  - hostname: ws.viddhana.com
    service: http://127.0.0.1:16000
    originRequest:
      noTLSVerify: true
      connectTimeout: 120s
      http2Origin: false
      disableChunkedEncoding: true
      keepAliveConnections: 200
      keepAliveTimeout: 300s
      noHappyEyeballs: true
  # Main scan subdomain - route to nginx
  - hostname: scan.viddhana.com
    service: http://127.0.0.1:15000
    originRequest:
      noTLSVerify: true
      connectTimeout: 60s
      http2Origin: false
      disableChunkedEncoding: true
      keepAliveConnections: 100
      keepAliveTimeout: 120s
  - service: http_status:404
